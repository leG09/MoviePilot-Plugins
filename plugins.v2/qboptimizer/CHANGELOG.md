# QB种子优化插件更新日志

## v1.0.1 (当前版本)

### 🆕 新增功能
- **详细日志系统**: 增加了完整的调试日志，便于问题排查和监控
- **调试指南**: 新增 `DEBUG_GUIDE.md` 文档，提供详细的调试指导
- **安装指南**: 新增 `INSTALL.md` 文档，提供完整的安装步骤
- **功能总结**: 新增 `SUMMARY.md` 文档，详细说明插件功能特性

### 🔧 功能改进
- **日志前缀**: 所有日志都带有 `【QB种子优化】` 前缀，便于快速定位
- **异常处理**: 增强了异常处理机制，提供完整的堆栈跟踪信息
- **安全检查**: 改进了重要种子判断逻辑，避免误删重要种子
- **状态监控**: 增强了状态查询功能，提供更详细的统计信息

### 📝 日志增强
- **初始化日志**: 详细记录插件初始化过程和配置加载
- **服务连接日志**: 记录下载器连接状态和检查过程
- **操作执行日志**: 详细记录每个优化操作的执行过程
- **种子检查日志**: 记录每个种子的检查过程和判断结果
- **错误处理日志**: 提供完整的错误信息和堆栈跟踪

### 🛠️ 调试功能
- **配置验证**: 记录所有配置参数和功能开关状态
- **进度跟踪**: 显示操作进度和统计信息
- **详细统计**: 提供种子状态和操作结果的详细统计
- **性能监控**: 记录操作耗时和成功率

## v1.0.0 (初始版本)

### 🎯 核心功能
- **清理做种数为0的种子**: 自动检测并删除做种数为0的种子
- **提升高做种数种子优先级**: 为做种数较多的下载任务提升优先级
- **清理下载超时种子**: 删除下载时间过长的种子

### ⚙️ 配置功能
- **功能开关**: 可独立启用/禁用各项功能
- **参数配置**: 所有阈值和参数都可自定义
- **多下载器支持**: 支持配置多个qBittorrent实例
- **定时执行**: 支持Cron表达式设置执行周期

### 🔒 安全特性
- **重要种子保护**: 通过标签、名称关键词、分享率等判断种子重要性
- **保守处理**: 出错时默认不删除种子
- **操作确认**: 提供详细的操作日志和通知

### 📱 用户界面
- **Web配置界面**: 提供完整的配置表单
- **交互命令**: 支持手动触发和状态查询
- **通知系统**: 执行操作后发送通知消息

## 开发历程

### 第一阶段：基础功能开发
- 实现核心的种子优化逻辑
- 建立基本的插件框架
- 添加配置界面和用户交互

### 第二阶段：安全机制完善
- 添加重要种子保护机制
- 完善异常处理逻辑
- 增加操作确认和回滚功能

### 第三阶段：日志系统增强
- 设计详细的日志输出格式
- 实现多级别的日志记录
- 添加调试和监控功能

### 第四阶段：文档完善
- 编写完整的使用说明
- 提供详细的调试指南
- 创建安装和配置文档

## 技术特性

### 架构设计
- **模块化设计**: 功能模块独立，便于维护和扩展
- **事件驱动**: 基于MoviePilot事件系统，响应式处理
- **服务封装**: 使用MoviePilot V2的服务封装类

### 性能优化
- **异步处理**: 支持异步操作，避免阻塞主程序
- **批量操作**: 批量处理种子，提高效率
- **资源管理**: 合理管理内存和连接资源

### 兼容性
- **MoviePilot V2**: 完全兼容MoviePilot V2版本
- **qBittorrent**: 专门针对qBittorrent优化
- **多平台**: 支持Linux、macOS、Windows等平台

## 未来计划

### 短期计划 (v1.1)
- **重新下载功能**: 集成MoviePilot搜索API实现自动重新下载
- **更多下载器支持**: 扩展支持Transmission等其他下载器
- **Web界面增强**: 添加实时监控和统计图表

### 中期计划 (v1.2)
- **智能优化算法**: 基于历史数据优化参数设置
- **机器学习**: 使用ML模型预测种子质量
- **API接口**: 提供REST API接口供其他应用调用

### 长期计划 (v2.0)
- **分布式支持**: 支持多实例协同工作
- **云服务集成**: 集成云存储和CDN服务
- **移动端支持**: 开发移动端管理应用

## 贡献者

- **leG09**: 主要开发者，负责核心功能开发
- **Assistant**: 协助开发，负责文档和测试

## 许可证

本插件采用MIT许可证，详见LICENSE文件。

## 支持

如有问题或建议，请：
1. 查看文档获取使用说明
2. 运行测试脚本检查插件状态
3. 查看日志获取错误信息
4. 提交Issue到项目仓库
